css = '''
<style>
.chat-message {
    padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1rem; display: flex
}
.chat-message.user {
    background-color: #2b313e
}
.chat-message.bot {
    background-color: #475063
}
.chat-message .avatar {
  width: 20%;
}
.chat-message .avatar img {
  max-width: 78px;
  max-height: 78px;
  border-radius: 50%;
  object-fit: cover;
}
.chat-message .message {
  width: 80%;
  padding: 0 1.5rem;
  color: #fff;
}
'''

bot_template = '''
<div class="chat-message bot">
    <div class="avatar">
        <img src="data:image/png;base64,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">
    </div>
    <div class="message">{{MSG}}</div>
</div>
'''

user_template = '''
<div class="chat-message user">
    <div class="avatar">
        <img src="https://media.licdn.com/dms/image/C4E03AQGUPB1M5R2pdw/profile-displayphoto-shrink_800_800/0/1594252526889?e=1705536000&v=beta&t=hadFdj_cmawmbmHT8dFmNrYM3o26xzrMf7FkM2LGqcA">
    </div>    
    <div class="message">{{MSG}}</div>
</div>
'''